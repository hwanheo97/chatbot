# -*- coding: utf-8 -*-
"""5_1_ê°„ë‹¨í•œ_ì±—ë´‡_ë§Œë“¤ê¸°.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1p3LJZO48yOW1zDQhxHBOg-HxmqxTmkoK
"""


#langchain==0.0.350ì—ì„œ dependency ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì—¬ ê¸°ì¡´ langchanin ì‚­ì œ
#!pip3 uninstall -y langchain

#langchain==0.0.350ì—ì„œ dependency ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì—¬ langchanin ìµœì‹  ë²„ì „ìœ¼ë¡œ ì„¤ì¹˜
#!pip install langchain

# langchain-community ì—­ì‹œ ì¬ì„¤ì¹˜
#!pip install -U langchain-community

#!pip install streamlit==1.29.0

#!pip install openai==0.28.1

import streamlit as st
from langchain.llms import OpenAI
from langchain_community.chat_models import ChatOpenAI

# Everything is accessible via the st.secrets dict:
# #st.write("DB username:", st.secrets["db_username"])
st.write("OPENAI_API_KEY:", st.secrets["auth_token"])




st.set_page_config(page_title="ğŸ¦œğŸ”— Ben's ì¸ê³µì§€ëŠ¥ ! ì§ˆë¬¸í•˜ì„¸ìš”~ ")
st.title('ğŸ¦œğŸ”— ì¸ê³µì§€ëŠ¥! ì§ˆë¬¸í•˜ì„¸ìš”~ ')



import os
os.environ["OPENAI_API_KEY"] = "auth_token"  

# And the root-level secrets are also accessible as environment variables:
st.write(
    "Has environment variables been set:",
    os.environ["OPENAI_API_KEY"] == st.secrets["auth_token"],
)

def generate_response(input_text):  #llmì´ ë‹µë³€ ìƒì„±
    llm = OpenAI(model_name='gpt-4-0613', temperature=0)
    st.info(llm(input_text))

with st.form('Question'):
    text = st.text_area('ì§ˆë¬¸ ì…ë ¥:', 'What types of text models does OpenAI provide?') #ì²« í˜ì´ì§€ê°€ ì‹¤í–‰ë  ë•Œ ë³´ì—¬ì¤„ ì§ˆë¬¸
    submitted = st.form_submit_button('ë³´ë‚´ê¸°')
    generate_response(text)




#from langchain_community.chat_models import ChatOpenAI

# def generate_response(input_text):
#     llm = ChatOpenAI(model_name='gpt-4-0314', temperature=0)
#     st.info(llm(input_text))

# with st.form('Question'):
#     text = st.text_area('ì§ˆë¬¸ ì…ë ¥:', 'What types of text models does OpenAI provide?') #ì²« í˜ì´ì§€ê°€ ì‹¤í–‰ë  ë•Œ ë³´ì—¬ì¤„ ì§ˆë¬¸
#     submitted = st.form_submit_button('ë³´ë‚´ê¸°')
#     generate_response(text)

